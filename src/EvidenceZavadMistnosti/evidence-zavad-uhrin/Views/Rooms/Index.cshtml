@model List<evidence_zavad_uhrin.Models.Room>
@{
    ViewData["Title"] = "Místnosti";
}

<div class="rooms-wrapper">
  <div class="rooms-header">
    <h2 class="rooms-heading">Správa místností</h2>
  </div>

  <div class="rooms-card">
    <!-- CREATE -->
    <form class="rooms-form" method="post" action="/Rooms/Create">
      @Html.AntiForgeryToken()
      <input class="rooms-input" type="text" name="name" placeholder="Název místnosti" required />
      <input class="rooms-input" type="number" name="floor" placeholder="Patro" required />
      <input class="rooms-input" type="text" name="roomDescription" placeholder="Popis" required />
      <button class="rooms-btn rooms-btn-primary" type="submit">Přidat</button>
    </form>

    <!-- LIST -->
    <div class="rooms-table-wrapper">
      <table class="rooms-table">
        <thead>
          <tr>
            <th>Název</th>
            <th>Patro</th>
            <th>Popis</th>
            <th>Akce</th>
          </tr>
        </thead>
        <tbody>
        @foreach (var room in Model)
        {
            <tr>
              <td colspan="4">
                <form method="post" action="/Rooms/Edit">
                  @Html.AntiForgeryToken()
                  <input type="hidden" name="id" value="@room.RoomId" />
                  <input class="rooms-input-inline" type="text" name="name" value="@room.Name" required />
                  <input class="rooms-input-inline" type="number" name="floor" value="@room.Floor" required />
                  <input class="rooms-input-inline" type="text" name="roomDescription" value="@room.RoomDescription" />
                  <button class="rooms-btn rooms-btn-save" type="submit">Uložit</button>
                </form>

                <form method="post" action="/Rooms/Delete">
                  @Html.AntiForgeryToken()
                  <input type="hidden" name="id" value="@room.RoomId" />
                  <button class="rooms-btn rooms-btn-danger" type="submit" onclick="return confirm('Opravdu smazat?');">Smazat</button>
                </form>
              </td>
            </tr>
        }
        </tbody>
      </table>
    </div>
  </div>
</div>
